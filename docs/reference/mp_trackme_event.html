<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Opt in or out of package usage tracking — mp_trackme • measurementProtocol</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Opt in or out of package usage tracking — mp_trackme" />
<meta property="og:description" content="You can opt-in or out to sending a measurement protocol hit when you load the package for use in the package's statistics via this function.  No personal data is collected.
If you opt in, this is the function that fires.  You can use debug_call=TRUE to see what would be sent before opting in or out." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-47480439-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-47480439-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">measurementProtocol</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/measurement-protocol-v2.html">Measurement Protocol v2</a>
    </li>
    <li>
      <a href="../articles/package-tracking.html">Package Tracking</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MarkEdmondson1234/measurementProtocol/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Opt in or out of package usage tracking</h1>
    <small class="dont-index">Source: <a href='https://github.com/MarkEdmondson1234/measurementProtocol/blob/master/R/mp_trackme.R'><code>R/mp_trackme.R</code></a></small>
    <div class="hidden name"><code>mp_trackme_event.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>You can opt-in or out to sending a measurement protocol hit when you load the package for use in the package's statistics via this function.  No personal data is collected.</p>
<p>If you opt in, this is the function that fires.  You can use <code>debug_call=TRUE</code> to see what would be sent before opting in or out.</p>
    </div>

    <pre class="usage"><span class='fu'>mp_trackme</span><span class='op'>(</span><span class='va'>package</span><span class='op'>)</span>

<span class='fu'>mp_trackme_event</span><span class='op'>(</span>
  <span class='va'>package</span>,
  debug_call <span class='op'>=</span> <span class='cn'>FALSE</span>,
  say_hello <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt_in_function <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>package</th>
      <td><p>The package name</p></td>
    </tr>
    <tr>
      <th>debug_call</th>
      <td><p>Set as a debug event to see what would be sent</p></td>
    </tr>
    <tr>
      <th>say_hello</th>
      <td><p>If you want to add your own custom message to the event sent, add it here!</p></td>
    </tr>
    <tr>
      <th>opt_in_function</th>
      <td><p>The name of the function for a user to opt-in</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Running this function will send a Measurement Protocol hit via <a href='mp_send.html'>mp_send</a> only if the cache file is present</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># control your tracking choices via a menu if in interactive session</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'>mp_trackme</span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># this only works with a valid opt-in file present</span>
<span class='fu'>mp_trackme_event</span><span class='op'>(</span><span class='st'>"googleAnalyticsR"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'><span style='color: #00BBBB;'>ℹ</span><span> </span><span style='color: #B2B2B2;'>2021-04-09 10:04:28 &gt;</span><span> No consent file found</span></div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='co'># see what data is sent</span>
<span class='fu'>mp_trackme_event</span><span class='op'>(</span><span class='st'>"googleAnalyticsR"</span>, debug_call<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Error on package load with mp_trackme_event: there is no package called ‘googleAnalyticsR’</span></div><div class='output co'>#&gt; NULL</div><div class='input'>
<span class='co'># add your own message!</span>
<span class='fu'>mp_trackme_event</span><span class='op'>(</span><span class='st'>"googleAnalyticsR"</span>,
                 debug_call <span class='op'>=</span> <span class='cn'>TRUE</span>,
                 say_hello <span class='op'>=</span> <span class='st'>"err hello Mark"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Error on package load with mp_trackme_event: there is no package called ‘googleAnalyticsR’</span></div><div class='output co'>#&gt; NULL</div><div class='input'>
<span class='co'># placed in .onAttach with function name</span>
<span class='va'>.onAttach</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>libname</span>, <span class='va'>pkgname</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'>measurementProtocol</span><span class='fu'>::</span><span class='fu'>mp_trackme_event</span><span class='op'>(</span><span class='va'>pkgname</span>, opt_in_function <span class='op'>=</span> <span class='st'>"mp_opt_in"</span><span class='op'>)</span>
 <span class='op'>}</span>

</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mark Edmondson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


